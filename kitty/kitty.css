:root{
  --site-pink:#ffd6e8;

  /* === Music player (with gradient slider) === */
  --vol:.5;                          /* updated by JS */
  --vol-accent-1:#ffe47b;            /* yellow */
  --vol-accent-2:#ff85f7;            /* pink */
  --vol-track:rgba(255,255,255,.22); /* glass track */
  --vol-border:rgba(255,255,255,.6);
}

/* Baseline & mobile stability */
html, body{
  height:100%;
  margin:0;
  overflow:hidden;               /* prevent scroll jank */
  overscroll-behavior:none;      /* stop bounce on mobile */
  -webkit-text-size-adjust:100%; /* avoid iOS font zooming */
  background:var(--site-pink);
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

/* Paw-print background with spacing and diagonal stagger */
body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-1;
  opacity:.16;
  background-image:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'><text x='26' y='108' font-size='80'>üêæ</text></svg>"),
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'><text x='26' y='108' font-size='80'>üêæ</text></svg>");
  background-size:160px 160px, 160px 160px;
  background-position:0 0, 80px 80px; /* diagonal offset */
  background-repeat:repeat, repeat;
  pointer-events:none;
}

/* Stage fills visual viewport and stays fixed (prevents iOS address bar jump) */
.stage{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh; /* fallback */
}
@supports (height:100svh){ .stage{ height:100svh; } }   /* iOS 15.4+ stable viewport */
@supports (height:100dvh){ .stage{ height:100dvh; } }   /* modern browsers */

/* Each moving cat container (JS drives motion; CSS anim disabled on .runner by JS) */
.runner{
  position:absolute;
  will-change:transform;
  animation-name:move-across;
  animation-timing-function:linear;
  animation-iteration-count:1;
  animation-fill-mode:both;
}

/* Cat + shadow visuals */
.kitty{
  position:relative;
  width:min(11vmin, 130px);
  height:auto;
  display:block;
  user-select:none;
  -webkit-user-drag:none;
  will-change:transform;
  animation:kitty-antics 6s cubic-bezier(.22,.61,.36,1) infinite;
  transform-origin:50% 70%;
  filter:drop-shadow(0 6px 10px rgba(0,0,0,.15));
}

.shadow{
  position:absolute;
  left:50%; top:100%;
  transform:translate(-50%, -20%);
  width:45%; height:10%;
  background:rgba(0,0,0,.2);
  border-radius:50%;
  filter:blur(2px);
  will-change:transform, opacity;
  animation:shadow-bounce 6s ease-in-out infinite;
  pointer-events:none;
}

/* (Legacy) horizontal animation definition */
@keyframes move-across{
  0%{ transform:translateX(110vw); }
  100%{ transform:translateX(-130vw); }
}

/* ‚Äî‚Äî Your chosen antics ‚Äî‚Äî */
@keyframes kitty-antics{
  0%   { transform: translateY(0) rotate(0deg); }
  10%  { transform: translateY(-48px) rotate(45deg); }
  24%  { transform: translateY(12px); }
  36%  { transform: translateY(-48px) rotate(-45deg); }
  47%  { transform: translateY(12px); }
  78%  { transform: translateY(-46px) rotate(-360deg); }
  100% { transform: translateY(0) rotate(360deg); }
}

@keyframes shadow-bounce{
  0%   { transform: translate(-50%, -20%) scaleX(1)   scaleY(1);  opacity:.35; }
  10%  { transform: translate(-50%, -20%) scaleX(.82) scaleY(.9); opacity:.25; }
  24%  { transform: translate(-50%, -20%) scaleX(1.1) scaleY(.8); opacity:.18; }
  36%  { transform: translate(-50%, -20%) scaleX(.82) scaleY(.9); opacity:.25; }
  47%  { transform: translate(-50%, -20%) scaleX(1.08) scaleY(.82); opacity:.18; }
  78%  { transform: translate(-50%, -20%) scaleX(.78) scaleY(.88); opacity:.22; }
  100% { transform: translate(-50%, -20%) scaleX(1)   scaleY(1);  opacity:.35; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion:reduce){
  .runner, .kitty, .shadow { animation:none !important; }
}

/* HUD (Play / Score / Time) ‚Äî defaults; JS also sets inline styles */
#gameHud{
  position:fixed;
  top:calc(10px + env(safe-area-inset-top,0));
  left:50%;
  transform:translateX(-50%);
  z-index:1100;
  display:flex; gap:8px; align-items:center; justify-content:center;
  flex-wrap:wrap;
  max-width:min(680px, calc(100vw - 24px));
  background:rgba(255,255,255,.25);
  backdrop-filter:blur(6px);
  border:1px solid rgba(0,0,0,.12);
  border-radius:999px;
  padding:6px 12px;
}

/* Center-bottom fish, larger; hide bucket */
.corner-emoji{
  position:fixed;
  left:50%;
  bottom:calc(12px + env(safe-area-inset-bottom,0));
  transform:translateX(-50%);
  user-select:none;
  text-align:center;
  z-index:1000;
  width:auto;
  height:auto;
}
.corner-emoji .wrap{ position:relative; width:auto; height:auto; }
.corner-emoji .bucket{ display:none !important; }
.corner-emoji .fish{
  position:static;         /* no absolute positioning */
  display:inline-block;
  font-size:clamp(3rem, 12vw, 5.2rem);
  line-height:1;
  cursor:pointer;
  filter:drop-shadow(0 2px 3px rgba(0,0,0,.15));
}

/* Fish held-follow animation (match size to bottom fish) */
.held-fish{
  position:fixed;
  pointer-events:none;
  font-size:clamp(3rem, 12vw, 5.2rem);
  z-index:1200;
  animation:fish-flip .6s linear infinite;
}
@keyframes fish-flip{
  0%{   transform:translate(-50%, -100%) scaleX(1); }
  50%{  transform:translate(-50%, -100%) scaleX(-1); }
  100%{ transform:translate(-50%, -100%) scaleX(1); }
}
/* Keep cats readable on very small screens */
@media (max-width:420px){
  .kitty{ width:min(12vmin, 96px); }
}
